# 캐시매핑: 직접매핑, 연관매핑, 집합-연관매핑

- 캐시의 크기는 메모리보다 항상 작기 때문에 효율적으로 매핑하는 것이 중요
- 매핑 방식으로는 직접매핑, 연관매핑, 집합-연관매핑이 존재 (직접 사상, 연관 사상, 집합-연관사상이 존재)

### 직접 매핑 (Direct Mapping)

- 메모리의 특정 블록은 특정 캐시 라인에만 매핑할 수 있는 것을 말함

- 운영체제는 메모리를 똑같은 크기의 페이지 (보통 4kb)로 나눠서 관리를 하며, <P, D> 로 나눠서 관리

  - P: page number
  - D: page offset, 페이지 번호로부터 해당 주소까지의 거리

- 직접 매핑에서는 p를 {tag, bd}로 세분화. bd는 blodck distance.

  - 페이지 <tag, bd, D> 로 나눠서 관리

- 캐시의 bd값을 기준으로 메모리의 bd값이 똑같아야 해당 캐시 라인에 매핑할 수 있음

- 탐색에 대한 장점이 있지만, 스와핑이 빈번하게 발행할 수 있음

### 연관 매핑 (Associative Mapping)

- 순서를 일치시키지 않고 관련 있는 캐시와 메모리를 매핑. 메모리의 컨텐츠가 캐시의 어느 위치에도 올라갈 수 있음

- 스와핑이 덜 일어나지만, 캐시의 모든 블록을 탐색해야 해서 속도가 직접 매핑보다 느림

- bd와 tag를 합쳐서 P로 사용

### 집합 연관매핑 (Set Associative Mapping)

- 집합을 나누고, 해당 집합에는 bd만 같으면 들어올 수 있게 하는데, 이 때 어떤 블럭에도 들어올 수 있게 하는 것. => 특정 블록을 찾게 해 탐색 비용을 낮춘 직접 매핑의 장점과, 스와핑을 완화시키는 연관 매핑의 장점을 모두 가짐

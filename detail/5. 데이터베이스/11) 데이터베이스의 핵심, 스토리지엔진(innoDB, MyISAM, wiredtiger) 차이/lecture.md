# 데이터베이스의 핵심, 스토리지엔진(innoDB, MyISAM, wiredtiger 차이)

### InnoDB와 MyISAM(마이아이에스엠)의 차이

- InnoDB는 MySQL 8.0 default 엔진이지만, MyISAM으로도 변경 가능

1. InnoDB는 MyISAM에 비해 데이터베이스 크기가 커짐에 따라 더 큰 가용성을 제공

2. 행, 인덱스 조회 캐싱: MyISAM은 파일 시스템 블록 캐시에 의존하는 반면, InnoDB는 엔진 자체 내에서 행 캐시와 인덱스 캐시를 결합하여 ㅈ가업 수행

3. MyISAM은 테이블 수준의 잠근 제공, InnoDB는 행 수준의 잠금 제공

4. MyISAM은 항상 테이블에 ROW COUNT를 가지고 있어 조회 쿼리씨 빠름

5. InnoDB는 트랜잭션 처리, 대용량 데이터를 다루기에 좋고, 트랜잭션이 필요 없고 조회 기능이 많을 때는 MyISAM이 좋다

### Wiredtiger 엔진

- MongoDB의 default 엔진(3.2 이상부터)
- LSMTree(로그 기반 병합 트리)를 이용하여 읽기 성능을 포기하고 그만큼 저장 성능을 향상시키고 느린 읽기 성능을 보완하기 위해 블룸 필터를 사용한 엔진

> 1. 체크포인트

- 60초 간격으로 체크포인트를 생성. MongoDB가 종료되거나 새로운 체크포인트를 작성하는 동안 오류가 발생하더라도 다시 시작하면 마지막 유효한 체크포인트에서 복구 가능

> 2. 저널링

- 로깅이라고 부를 수있는 저널링이 가능
- 체크 포인트 간의모든 데이터 수정 사항을 유지
- MongoDB가 체크포인트 사이에 종료되면 저널을 이용하여 마지막 체크포인트 이후 수정된 모든 데이터를 재생산 할 수 있음

> 3. 압축

- 모든 컬렉션 및 인덱스에 대한 압축을 지원

> 4. 메모리

- (서버 내 메모리 - 1GB)의 50%를 차지
- 256MB보다는 메모리를 많이 차지

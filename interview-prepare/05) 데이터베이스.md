### 트랜잭션

> 데이터베이스의 상태를 변화시키기 위해 수행하는 작업의 단위 <br>
> 데이터의 일관성과 무결성(정확하고 일관된 데이터)유지에 중요

---

### ACID

| 특성                | 설명                                                                                               |
| ------------------- | -------------------------------------------------------------------------------------------------- |
| Atomicity(원자성)   | 트랜잭션 내 연산은 모두 완벽히 수행되어야 함, 한 연산이라도 실패 시 트랜젝션 내 모든 연산 실패해야 |
| Consistency(일관성) | 트랜잭션이 성공적으로 완료되면 데이터베이스는 일관된 상태 유지, 트랜젝션 전후 데이터 무결성 유지   |
| Isolation(독립성)   | 트랜젝션이 동시에 실행될 경우, 다른 트랜젝션에 의해 영향을 받지 않고 독립적으로 실행되어야 함      |
| Durability(영속성)  | 커밋된 트랜잭션은 영구적으로 반영되어야 함                                                         |

---

### 트랜잭션 격리 수준

| 격리 수준        | 설명                                                                              |
| ---------------- | --------------------------------------------------------------------------------- |
| READ UNCOMMITTED | 커밋되지 않은 데이터도 읽을 수 있음                                               |
| READ COMMITTED   | 커밋된 데이터만 읽을 수 있음 (대부분 RDBMS 기본값)                                |
| REPEATABLE READ  | 조회한 행은 트랜잭션이 끝날 때까지 일정하게 유지, 새로운 행의 삽입은 막을 수 없음 |
| SERIALIZABLE     | 트랜잭션에 락을 걸어 다른 트랜잭션이 접근 불가                                    |

---

### ORM

> Object-relational Mapping

- 데이터베이스에서의 테이블을 객체로 매핑하여, 개발자가 객체 지향 언어로 데이터베이스를 조작할 수 있게 해주는 개념.
- SQL을 직접 작성하지 않아도, CRUD 작업을 수행할 수 있으며 생산성과 유지보수성을 높일 수 있음

---

### 인덱스

| -         | 설명                                                             |
| --------- | ---------------------------------------------------------------- |
| 사용 이유 | 검색 성능 향상(B-tree 구조)                                      |
| 주의점    | 인덱스 자체 구성 비용이 존재하므로 쿼리에 사용되는 인덱스만 생성 |
| 우선순위  | 같음 > 정렬 > 범위 > 카디널리티(고유성)                          |

---

### 정규화 VS 비정규화

> 정규화: 데이터 중복을 최소화하여 데이터베이스의 무결성과 일관성을 유지하기 위해 데이터를 구조화 <br>
> 비정규화: 읽기 성능 향상을 위해 의도적으로 데이터 중복을 허용하고, 정규화된 데이터베이스 구조를 단순화

| 요소      | 정규화                                         | 비정규화                                         |
| --------- | ---------------------------------------------- | ------------------------------------------------ |
| 목적      | 중복 최소화, 데이터 무결성 및 일관성 유지      | 쿼리 속도 개선, 읽기 성능 향상                   |
| 특징      | 데이터 중복 방지, 무결성 보장                  | 데이터 중복을 허용하여 응답 시간 단축            |
| 설계 과정 | 1NF부터 BCNF까지 단계적 정규화                 | 조인 연산 감소를 통한 쿼리 단순화                |
| 사용 사례 | 트랜잭션이 빈번한 온라인 트랜잭션 처리 시스템  | 대용량 데이터 분석 및 보고 시스템                |
| 장단점    | 복잡도 증가 가능성, 쿼리 성능 저하 가능성 있음 | 무결성 저하 가능성 있음, 대규모 데이터 처리 유리 |

---

### RDMBS vs NoSQL

| 구분 | RDBMS                                       | NoSQL                                                             |
| ---- | ------------------------------------------- | ----------------------------------------------------------------- |
| 정의 | 관계형 데이터베이스, SQL 사용하여 CRUD 수행 | 비관계형 데이터베이스, 유연한 데이터 모델. 데이터 추출, 조합 가능 |
| 예시 | MySQL, PostgreSQL, 오라클                   | MongoDB, Redis                                                    |
| 목적 | 릴레이션을 통해 데이터 효율적 보관          | Json을 통해 데이터에 빠른 접근, 확장성, 유연성                    |

---

### SQL 쿼리 실행 순서

| 순서 | 단계     |
| ---- | -------- |
| 1    | FROM     |
| 2    | WHERE    |
| 3    | GROUP BY |
| 4    | HAVING   |
| 5    | SELECT   |
| 6    | ORDER BY |
| 7    | LIMIT    |

---

### SQL Injection

- 공격자가 악의적인 의도를 갖는 구문을 삽입하여 공격자가 원하는 SQL을 실행하도록 하는 웹 해킹 기법

```sql
SELECT * FROM USER WHERE ID = 'INPUT1' AND PASSWORD = 'INPUT2'
-- 공격> input1 자리에 'OR 1=1 -- 삽입'
SELECT * FROM USER WHERE ID = '' OR 1=1 --INPUT1' AND PASSWORD = 'INPUT2'
```

---

### Redis

- key-value 형태로 데이터를 저장하는 NoSQL DB

---

### Elastic Search

- 자바로 개발된 오픈소스 검색 엔진. 책의 색인 처럼 특정 단어가 출현하는 doc을 저장

---

### sqlite

- `경량` 데이터베이스 관리 시스템
- 데이터를 저장하는 데 하나의 파일만을 사용
- 백업이 편리, RDBMS에 해당

---
